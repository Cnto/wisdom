<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.wisdom.user.mapper.SurveyMapper">
    <select id="findSurveyAnswer" resultType="com.wisdom.user.dto.AnswerDTO">
        select * FROM survey_answer
        where 1=1
        <if test="id != null and id != '' ">
            and id=#{id}
        </if>
        <if test="question_id != null and question_id != '' ">
            and question_id=#{question_id}
        </if>
        <if test="question_name != null and question_name != '' ">
            and question_name=#{question_name}
        </if>
        <if test="worker_name != null and worker_name != '' ">
            and worker_name=#{worker_name}
        </if>
        <if test="worker_phone != null and worker_phone != '' ">
            and worker_phone=#{worker_phone}
        </if>
        <if test="question_answer != null and question_answer != '' ">
            and question_answer=#{question_answer}
        </if>
        <if test="elder_identity_num != null and elder_identity_num != '' ">
            and elder_identity_num=#{elder_identity_num}
        </if>
    </select>

    <insert id="createSurveyAnswer"
            parameterType="com.wisdom.user.dto.AnswerDTO"
            keyProperty="id">
        INSERT INTO survey_answer
        (`id`,
        `question_id`,
        `question_name`,
        `worker_name`,
        `worker_phone`,
        `question_answer`,
        `update_date`,
        `elder_identity_num`)
        VALUES
        (#{id},
        #{question_id},
        #{question_name},
        #{worker_name},
        #{worker_phone},
        #{question_answer},
        #{update_date},
        #{elder_identity_num})
    </insert>
</mapper>